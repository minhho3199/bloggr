{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Component = exports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAsyncScriptLoader = _interopRequireDefault(require(\"react-async-script-loader\"));\n\nvar _withReduxForm = _interopRequireDefault(require(\"../../libs/hocs/withReduxForm\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _container = _interopRequireDefault(require(\"./styled/container\"));\n\nvar _cardInput = _interopRequireDefault(require(\"./styled/cardInput\"));\n/**\n * Stripe Card Input component are used for freeform data entry.\n * @category Form\n */\n\n\nvar StripeCardInput = /*#__PURE__*/_react[\"default\"].forwardRef(function (props, ref) {\n  var apiKey = props.apiKey,\n      label = props.label,\n      labelAlignment = props.labelAlignment,\n      hideLabel = props.hideLabel,\n      bottomHelpText = props.bottomHelpText,\n      error = props.error,\n      disabled = props.disabled,\n      required = props.required,\n      locale = props.locale,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      className = props.className,\n      style = props.style,\n      isScriptLoaded = props.isScriptLoaded,\n      isScriptLoadSucceed = props.isScriptLoadSucceed;\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      stripe = _useState2[0],\n      setStripe = _useState2[1];\n\n  var cardRef = (0, _react.useRef)();\n  var stripeCardInputId = (0, _hooks.useUniqueIdentifier)('stripe-card-input');\n  var errorMessageId = (0, _hooks.useUniqueIdentifier)('error-message');\n  var theme = (0, _hooks.useTheme)().rainbow;\n  var cardElementOptions = (0, _react.useMemo)(function () {\n    return (0, _helpers.getCardElementOptions)(theme, disabled);\n  }, [disabled, theme]);\n  var localeStripe = (0, _hooks.useLocale)(locale);\n  var elementsOptions = (0, _react.useMemo)(function () {\n    return (0, _helpers.getElementsOptions)(localeStripe);\n  }, [localeStripe]);\n  (0, _react.useEffect)(function () {\n    if (isScriptLoaded && isScriptLoadSucceed && window.Stripe && apiKey) {\n      setStripe(window.Stripe(apiKey));\n    }\n  }, [apiKey, isScriptLoadSucceed, isScriptLoaded]); // eslint-disable-next-line consistent-return\n\n  (0, _react.useEffect)(function () {\n    if (stripe) {\n      var cardNode = cardRef.current;\n      var elements = stripe.elements(elementsOptions);\n      var card = elements.create('card', cardElementOptions);\n      card.mount(cardNode);\n      card.on('change', function (event) {\n        var stripeCardEvent = {\n          stripe: stripe,\n          card: card,\n          isEmpty: event.empty,\n          isComplete: event.complete,\n          cardBrand: event.brand,\n          error: (0, _helpers.getError)(event.error)\n        };\n        onChange(stripeCardEvent);\n      });\n      card.on('focus', onFocus);\n      card.on('blur', onBlur);\n      return function () {\n        card.unmount();\n        card.destroy();\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [cardElementOptions, elementsOptions, stripe]);\n  return /*#__PURE__*/_react[\"default\"].createElement(_container[\"default\"], {\n    ref: ref,\n    className: className,\n    style: style,\n    disabled: disabled,\n    error: error\n  }, /*#__PURE__*/_react[\"default\"].createElement(_label[\"default\"], {\n    label: label,\n    hideLabel: hideLabel,\n    labelAlignment: labelAlignment,\n    inputId: stripeCardInputId,\n    required: required\n  }), /*#__PURE__*/_react[\"default\"].createElement(_cardInput[\"default\"], {\n    ref: cardRef,\n    id: stripeCardInputId,\n    disabled: disabled\n  }), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, /*#__PURE__*/_react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, /*#__PURE__*/_react[\"default\"].createElement(_errorText[\"default\"], {\n    id: errorMessageId,\n    alignSelf: \"center\"\n  }, error)));\n});\n\nexports.Component = StripeCardInput;\nStripeCardInput.propTypes = {\n  /** The application's API key. To use Stripe,\n   * you must get an API Key. See https://dashboard.stripe.com/account/apikeys\n   * to get an API Key. */\n  apiKey: _propTypes[\"default\"].string.isRequired,\n\n  /** Text label for the component. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Describes the position of the StripeCardInput label. Options include left, center and right.\n   * This value defaults to center. */\n  labelAlignment: _propTypes[\"default\"].oneOf(['left', 'center', 'right']),\n\n  /** A boolean to hide the StripeCardInput label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** The component locale. If the locale is not passed, it defaults to the context language, and if the context language is not passed, it will default to the browser's language. */\n  locale: _propTypes[\"default\"].oneOf(['ar', 'da', 'de', 'en', 'es', 'fi', 'fr', 'he', 'it', 'ja', 'lt', 'lv', 'ms', 'nb', 'nl', 'pl', 'pt', 'pt-BR', 'ru', 'sv', 'zh']),\n\n  /** The action triggered when some value of the component changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  isScriptLoaded: _propTypes[\"default\"].bool.isRequired,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  isScriptLoadSucceed: _propTypes[\"default\"].bool.isRequired\n};\nStripeCardInput.defaultProps = {\n  label: undefined,\n  labelAlignment: 'center',\n  hideLabel: false,\n  bottomHelpText: null,\n  error: null,\n  disabled: false,\n  required: false,\n  locale: undefined,\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  className: undefined,\n  style: undefined\n};\n\nvar _default = (0, _reactAsyncScriptLoader[\"default\"])('https://js.stripe.com/v3')((0, _withReduxForm[\"default\"])(StripeCardInput));\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/minhho3199/Documents/Code/bloggr/client/node_modules/react-rainbow-components/components/StripeCardInput/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","Component","_slicedToArray2","_react","_propTypes","_reactAsyncScriptLoader","_withReduxForm","_hooks","_helpers","_RenderIf","_label","_helpText","_errorText","_container","_cardInput","StripeCardInput","forwardRef","props","ref","apiKey","label","labelAlignment","hideLabel","bottomHelpText","error","disabled","required","locale","onChange","onFocus","onBlur","className","style","isScriptLoaded","isScriptLoadSucceed","_useState","useState","_useState2","stripe","setStripe","cardRef","useRef","stripeCardInputId","useUniqueIdentifier","errorMessageId","theme","useTheme","rainbow","cardElementOptions","useMemo","getCardElementOptions","localeStripe","useLocale","elementsOptions","getElementsOptions","useEffect","window","Stripe","cardNode","current","elements","card","create","mount","on","event","stripeCardEvent","isEmpty","empty","isComplete","complete","cardBrand","brand","getError","unmount","destroy","createElement","inputId","id","isTrue","alignSelf","propTypes","string","isRequired","oneOfType","node","oneOf","bool","func","object","defaultProps","undefined","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Component = exports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAsyncScriptLoader = _interopRequireDefault(require(\"react-async-script-loader\"));\n\nvar _withReduxForm = _interopRequireDefault(require(\"../../libs/hocs/withReduxForm\"));\n\nvar _hooks = require(\"../../libs/hooks\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _container = _interopRequireDefault(require(\"./styled/container\"));\n\nvar _cardInput = _interopRequireDefault(require(\"./styled/cardInput\"));\n\n/**\n * Stripe Card Input component are used for freeform data entry.\n * @category Form\n */\nvar StripeCardInput = /*#__PURE__*/_react[\"default\"].forwardRef(function (props, ref) {\n  var apiKey = props.apiKey,\n      label = props.label,\n      labelAlignment = props.labelAlignment,\n      hideLabel = props.hideLabel,\n      bottomHelpText = props.bottomHelpText,\n      error = props.error,\n      disabled = props.disabled,\n      required = props.required,\n      locale = props.locale,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      className = props.className,\n      style = props.style,\n      isScriptLoaded = props.isScriptLoaded,\n      isScriptLoadSucceed = props.isScriptLoadSucceed;\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      stripe = _useState2[0],\n      setStripe = _useState2[1];\n\n  var cardRef = (0, _react.useRef)();\n  var stripeCardInputId = (0, _hooks.useUniqueIdentifier)('stripe-card-input');\n  var errorMessageId = (0, _hooks.useUniqueIdentifier)('error-message');\n  var theme = (0, _hooks.useTheme)().rainbow;\n  var cardElementOptions = (0, _react.useMemo)(function () {\n    return (0, _helpers.getCardElementOptions)(theme, disabled);\n  }, [disabled, theme]);\n  var localeStripe = (0, _hooks.useLocale)(locale);\n  var elementsOptions = (0, _react.useMemo)(function () {\n    return (0, _helpers.getElementsOptions)(localeStripe);\n  }, [localeStripe]);\n  (0, _react.useEffect)(function () {\n    if (isScriptLoaded && isScriptLoadSucceed && window.Stripe && apiKey) {\n      setStripe(window.Stripe(apiKey));\n    }\n  }, [apiKey, isScriptLoadSucceed, isScriptLoaded]); // eslint-disable-next-line consistent-return\n\n  (0, _react.useEffect)(function () {\n    if (stripe) {\n      var cardNode = cardRef.current;\n      var elements = stripe.elements(elementsOptions);\n      var card = elements.create('card', cardElementOptions);\n      card.mount(cardNode);\n      card.on('change', function (event) {\n        var stripeCardEvent = {\n          stripe: stripe,\n          card: card,\n          isEmpty: event.empty,\n          isComplete: event.complete,\n          cardBrand: event.brand,\n          error: (0, _helpers.getError)(event.error)\n        };\n        onChange(stripeCardEvent);\n      });\n      card.on('focus', onFocus);\n      card.on('blur', onBlur);\n      return function () {\n        card.unmount();\n        card.destroy();\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [cardElementOptions, elementsOptions, stripe]);\n  return /*#__PURE__*/_react[\"default\"].createElement(_container[\"default\"], {\n    ref: ref,\n    className: className,\n    style: style,\n    disabled: disabled,\n    error: error\n  }, /*#__PURE__*/_react[\"default\"].createElement(_label[\"default\"], {\n    label: label,\n    hideLabel: hideLabel,\n    labelAlignment: labelAlignment,\n    inputId: stripeCardInputId,\n    required: required\n  }), /*#__PURE__*/_react[\"default\"].createElement(_cardInput[\"default\"], {\n    ref: cardRef,\n    id: stripeCardInputId,\n    disabled: disabled\n  }), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, /*#__PURE__*/_react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, /*#__PURE__*/_react[\"default\"].createElement(_errorText[\"default\"], {\n    id: errorMessageId,\n    alignSelf: \"center\"\n  }, error)));\n});\n\nexports.Component = StripeCardInput;\nStripeCardInput.propTypes = {\n  /** The application's API key. To use Stripe,\n   * you must get an API Key. See https://dashboard.stripe.com/account/apikeys\n   * to get an API Key. */\n  apiKey: _propTypes[\"default\"].string.isRequired,\n\n  /** Text label for the component. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Describes the position of the StripeCardInput label. Options include left, center and right.\n   * This value defaults to center. */\n  labelAlignment: _propTypes[\"default\"].oneOf(['left', 'center', 'right']),\n\n  /** A boolean to hide the StripeCardInput label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** The component locale. If the locale is not passed, it defaults to the context language, and if the context language is not passed, it will default to the browser's language. */\n  locale: _propTypes[\"default\"].oneOf(['ar', 'da', 'de', 'en', 'es', 'fi', 'fr', 'he', 'it', 'ja', 'lt', 'lv', 'ms', 'nb', 'nl', 'pl', 'pt', 'pt-BR', 'ru', 'sv', 'zh']),\n\n  /** The action triggered when some value of the component changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  isScriptLoaded: _propTypes[\"default\"].bool.isRequired,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  isScriptLoadSucceed: _propTypes[\"default\"].bool.isRequired\n};\nStripeCardInput.defaultProps = {\n  label: undefined,\n  labelAlignment: 'center',\n  hideLabel: false,\n  bottomHelpText: null,\n  error: null,\n  disabled: false,\n  required: false,\n  locale: undefined,\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  className: undefined,\n  style: undefined\n};\n\nvar _default = (0, _reactAsyncScriptLoader[\"default\"])('https://js.stripe.com/v3')((0, _withReduxForm[\"default\"])(StripeCardInput));\n\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}