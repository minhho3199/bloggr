{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"@rainbow-modules/hooks\");\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _container = _interopRequireDefault(require(\"../Input/styled/container\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _AssistiveText = _interopRequireDefault(require(\"../AssistiveText\"));\n\nvar _styled = require(\"./styled\");\n\nvar _hooks2 = require(\"../../libs/hooks\");\n\nvar _hooks3 = require(\"./hooks\");\n\nvar _countriesDropdown = _interopRequireDefault(require(\"./countriesDropdown\"));\n/* eslint-disable react/no-unused-prop-types */\n\n/**\n * phone input are used for freeform data entry.\n * @category Form\n */\n\n\nvar PhoneInput = /*#__PURE__*/_react[\"default\"].forwardRef(function (props, ref) {\n  var _useReduxForm = (0, _hooks2.useReduxForm)(props),\n      value = _useReduxForm.value,\n      name = _useReduxForm.name,\n      placeholder = _useReduxForm.placeholder,\n      icon = _useReduxForm.icon,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      required = _useReduxForm.required,\n      error = _useReduxForm.error,\n      disabled = _useReduxForm.disabled,\n      readOnly = _useReduxForm.readOnly,\n      tabIndex = _useReduxForm.tabIndex,\n      onChange = _useReduxForm.onChange,\n      onClick = _useReduxForm.onClick,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style,\n      id = _useReduxForm.id,\n      label = _useReduxForm.label,\n      labelAlignment = _useReduxForm.labelAlignment,\n      hideLabel = _useReduxForm.hideLabel,\n      countriesProps = _useReduxForm.countries;\n\n  var containerRef = (0, _react.useRef)();\n  var triggerRef = (0, _react.useRef)();\n  var searchRef = (0, _react.useRef)();\n  var inputRef = (0, _react.useRef)();\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      click: function click() {\n        inputRef.current.click();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  });\n  var inputId = (0, _hooks2.useUniqueIdentifier)('phone-input');\n  var errorMessageId = (0, _hooks2.useErrorMessageId)(error);\n  var labelId = (0, _hooks2.useLabelId)(label);\n  var phone = value && value.phone || '';\n  var countries = (0, _hooks3.useCountries)(countriesProps);\n  var country = (0, _hooks3.useCountry)(value, countries);\n  var countryCode = country.countryCode,\n      isoCode = country.isoCode,\n      flagIcon = country.flagIcon;\n\n  var _useFocusIndex = (0, _hooks3.useFocusIndex)(containerRef, triggerRef, searchRef, inputRef),\n      _useFocusIndex2 = (0, _slicedToArray2[\"default\"])(_useFocusIndex, 2),\n      focusIndex = _useFocusIndex2[0],\n      setFocusIndex = _useFocusIndex2[1];\n\n  (0, _hooks.useOutsideClick)(containerRef, function () {\n    setFocusIndex(-1);\n  }, focusIndex > -1);\n  var handleFocus = (0, _hooks3.useHandleFocus)(focusIndex, onFocus, setFocusIndex, value);\n  var handleBlur = (0, _hooks3.useHandleBlur)(focusIndex, onBlur, value);\n  var isOpen = focusIndex === 1;\n  var handleCountryChange = (0, _hooks3.useHandleCountryChange)(phone, onChange, setFocusIndex, isOpen);\n\n  function handlePhoneChange(event) {\n    var rawPhone = event.target.value;\n    var newPhone = rawPhone.replace(/\\D/g, '');\n    onChange({\n      countryCode: countryCode,\n      isoCode: isoCode,\n      phone: newPhone\n    });\n  }\n\n  function handleClick() {\n    if (focusIndex === 1) {\n      setFocusIndex(0);\n    } else {\n      setFocusIndex(1);\n    }\n  }\n\n  var isFocus = focusIndex > -1;\n  var formattedCountryCode = \"(\".concat(countryCode, \")\");\n  var isReadOnly = readOnly && !disabled;\n  var hasTrigger = !isReadOnly && countries.length > 1;\n  var isOnlyCountry = !isReadOnly && countries.length === 1;\n  return /*#__PURE__*/_react[\"default\"].createElement(_container[\"default\"], {\n    id: id,\n    ref: containerRef,\n    className: className,\n    style: style\n  }, /*#__PURE__*/_react[\"default\"].createElement(_label[\"default\"], {\n    label: label,\n    labelAlignment: labelAlignment,\n    hideLabel: hideLabel,\n    required: required,\n    inputId: inputId,\n    readOnly: readOnly,\n    id: labelId\n  }), /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledInputContainer, {\n    disabled: disabled,\n    readOnly: readOnly,\n    iconPosition: \"right\",\n    icon: icon,\n    error: error,\n    isFocus: isFocus\n  }, /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isReadOnly\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    readOnly: true\n  }, flagIcon)), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: hasTrigger\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledTrigger, {\n    ref: triggerRef,\n    onClick: handleClick,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 0);\n    },\n    onBlur: handleBlur,\n    tabIndex: tabIndex,\n    disabled: disabled,\n    type: \"button\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    disabled: disabled\n  }, flagIcon, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledIndicator, {\n    error: error,\n    disabled: disabled\n  })), /*#__PURE__*/_react[\"default\"].createElement(_AssistiveText[\"default\"], {\n    text: \"select country\"\n  }))), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isOnlyCountry\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledTrigger, {\n    ref: triggerRef,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 0);\n    },\n    onBlur: handleBlur,\n    tabIndex: tabIndex,\n    disabled: disabled\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    disabled: disabled\n  }, flagIcon))), /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledCountryCode, null, formattedCountryCode), /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledInput, {\n    id: inputId,\n    ref: inputRef,\n    name: name,\n    value: phone,\n    type: \"tel\",\n    placeholder: placeholder,\n    tabIndex: tabIndex,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 2);\n    },\n    onBlur: handleBlur,\n    onClick: onClick,\n    onChange: handlePhoneChange,\n    disabled: disabled,\n    readOnly: readOnly,\n    required: required,\n    \"aria-labelledby\": labelId,\n    \"aria-describedby\": errorMessageId,\n    iconPosition: \"right\",\n    icon: icon,\n    error: error,\n    isFocus: isFocus\n  }), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: icon\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledIconContainer, {\n    error: error\n  }, icon)), /*#__PURE__*/_react[\"default\"].createElement(_countriesDropdown[\"default\"], {\n    country: country,\n    countries: countries,\n    isOpen: isOpen,\n    searchRef: searchRef,\n    setFocusIndex: setFocusIndex,\n    handleFocus: handleFocus,\n    handleBlur: handleBlur,\n    onCountryChange: handleCountryChange\n  })), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, /*#__PURE__*/_react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, /*#__PURE__*/_react[\"default\"].createElement(_errorText[\"default\"], {\n    alignSelf: \"center\",\n    id: errorMessageId\n  }, error)));\n});\n\nPhoneInput.propTypes = {\n  /** Specifies the value of an input element. */\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].shape({\n    countryCode: _propTypes[\"default\"].string,\n    isoCode: _propTypes[\"default\"].string,\n    phone: _propTypes[\"default\"].string\n  })]),\n\n  /** The name of the input. */\n  name: _propTypes[\"default\"].string,\n\n  /** Text label for the input. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Describes the position of the PhoneInput label. Options include left, center and right.\n   * This value defaults to center. */\n  labelAlignment: _propTypes[\"default\"].oneOf(['left', 'center', 'right']),\n\n  /** A boolean to hide the PhoneInput label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Text that is displayed when the field is empty, to prompt the user for a valid entry. */\n  placeholder: _propTypes[\"default\"].string,\n\n  /** The icon to show if it is passed. It must be a svg icon or a font icon. */\n  icon: _propTypes[\"default\"].node,\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field is read-only. This value defaults to false. */\n  readOnly: _propTypes[\"default\"].bool,\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n\n  /** The action triggered when a value attribute changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element is clicked. */\n  onClick: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** Specifies the available countries for selection. */\n  countries: _propTypes[\"default\"].array\n};\nPhoneInput.defaultProps = {\n  id: undefined,\n  name: undefined,\n  placeholder: null,\n  icon: undefined,\n  label: undefined,\n  labelAlignment: 'center',\n  hideLabel: false,\n  bottomHelpText: null,\n  required: false,\n  error: null,\n  disabled: false,\n  readOnly: false,\n  tabIndex: undefined,\n  className: undefined,\n  style: undefined,\n  onClick: function onClick() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  value: {\n    countryCode: '+1',\n    isoCode: 'us',\n    phone: ''\n  },\n  countries: ['af', 'ax', 'al', 'dz', 'as', 'ad', 'ao', 'ai', 'ag', 'ar', 'am', 'aw', 'ac', 'au', 'at', 'az', 'bs', 'bh', 'bd', 'bb', 'by', 'be', 'bz', 'bj', 'bm', 'bt', 'bo', 'bq', 'ba', 'bw', 'br', 'vg', 'bn', 'bg', 'bf', 'bi', 'kh', 'cm', 'ca', 'cv', 'ky', 'cf', 'td', 'cl', 'cn', 'cx', 'cc', 'co', 'km', 'cg', 'cd', 'ck', 'cr', 'ci', 'hr', 'cu', 'cw', 'cy', 'cz', 'dk', 'dj', 'dm', 'do', 'ec', 'eg', 'sv', 'gq', 'er', 'ee', 'et', 'fk', 'fo', 'fj', 'fi', 'fr', 'gf', 'pf', 'ga', 'gm', 'ge', 'de', 'gh', 'gi', 'gr', 'gl', 'gd', 'gp', 'gu', 'gt', 'gg', 'gn', 'gw', 'gy', 'ht', 'hn', 'hk', 'hu', 'is', 'in', 'id', 'ir', 'iq', 'ie', 'im', 'il', 'it', 'jm', 'jp', 'je', 'jo', 'kz', 'ke', 'ki', 'kv', 'kw', 'kg', 'la', 'lv', 'lb', 'ls', 'lr', 'ly', 'li', 'lt', 'lu', 'mo', 'mk', 'mg', 'mw', 'my', 'mv', 'ml', 'mt', 'mh', 'mq', 'mr', 'mu', 'yt', 'mx', 'fm', 'md', 'mc', 'mn', 'me', 'ms', 'ma', 'mz', 'mm', 'na', 'nr', 'np', 'nl', 'nc', 'nz', 'ni', 'ne', 'ng', 'nu', 'nf', 'kp', 'mp', 'no', 'om', 'pk', 'pw', 'ps', 'pa', 'pg', 'py', 'pe', 'ph', 'pl', 'pt', 'pr', 'qa', 're', 'ro', 'ru', 'rw', 'bl', 'sh', 'kn', 'lc', 'mf', 'pm', 'vc', 'ws', 'sm', 'st', 'sa', 'sn', 'rs', 'sc', 'sl', 'sg', 'sx', 'sk', 'si', 'sb', 'so', 'za', 'kr', 'ss', 'es', 'lk', 'sd', 'sr', 'sj', 'sz', 'se', 'ch', 'sy', 'tw', 'tj', 'tz', 'th', 'tl', 'tg', 'tk', 'to', 'tt', 'tn', 'tr', 'tm', 'tc', 'tv', 'vi', 'ug', 'ua', 'ae', 'gb', 'us', 'uy', 'uz', 'vu', 'va', 've', 'vn', 'wf', 'ye', 'zm', 'zw']\n};\nvar _default = PhoneInput;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/minhho3199/Documents/Code/bloggr/client/node_modules/react-rainbow-components/components/PhoneInput/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_slicedToArray2","_react","_propTypes","_hooks","_label","_RenderIf","_container","_helpText","_errorText","_AssistiveText","_styled","_hooks2","_hooks3","_countriesDropdown","PhoneInput","forwardRef","props","ref","_useReduxForm","useReduxForm","name","placeholder","icon","bottomHelpText","required","error","disabled","readOnly","tabIndex","onChange","onClick","onFocus","onBlur","className","style","id","label","labelAlignment","hideLabel","countriesProps","countries","containerRef","useRef","triggerRef","searchRef","inputRef","useImperativeHandle","focus","current","click","blur","inputId","useUniqueIdentifier","errorMessageId","useErrorMessageId","labelId","useLabelId","phone","useCountries","country","useCountry","countryCode","isoCode","flagIcon","_useFocusIndex","useFocusIndex","_useFocusIndex2","focusIndex","setFocusIndex","useOutsideClick","handleFocus","useHandleFocus","handleBlur","useHandleBlur","isOpen","handleCountryChange","useHandleCountryChange","handlePhoneChange","event","rawPhone","target","newPhone","replace","handleClick","isFocus","formattedCountryCode","concat","isReadOnly","hasTrigger","length","isOnlyCountry","createElement","StyledInputContainer","iconPosition","isTrue","StyledFlagContainer","StyledTrigger","type","StyledIndicator","text","StyledCountryCode","StyledInput","StyledIconContainer","onCountryChange","alignSelf","propTypes","oneOfType","string","shape","node","oneOf","bool","number","func","object","array","defaultProps","undefined","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _hooks = require(\"@rainbow-modules/hooks\");\n\nvar _label = _interopRequireDefault(require(\"../Input/label\"));\n\nvar _RenderIf = _interopRequireDefault(require(\"../RenderIf\"));\n\nvar _container = _interopRequireDefault(require(\"../Input/styled/container\"));\n\nvar _helpText = _interopRequireDefault(require(\"../Input/styled/helpText\"));\n\nvar _errorText = _interopRequireDefault(require(\"../Input/styled/errorText\"));\n\nvar _AssistiveText = _interopRequireDefault(require(\"../AssistiveText\"));\n\nvar _styled = require(\"./styled\");\n\nvar _hooks2 = require(\"../../libs/hooks\");\n\nvar _hooks3 = require(\"./hooks\");\n\nvar _countriesDropdown = _interopRequireDefault(require(\"./countriesDropdown\"));\n\n/* eslint-disable react/no-unused-prop-types */\n\n/**\n * phone input are used for freeform data entry.\n * @category Form\n */\nvar PhoneInput = /*#__PURE__*/_react[\"default\"].forwardRef(function (props, ref) {\n  var _useReduxForm = (0, _hooks2.useReduxForm)(props),\n      value = _useReduxForm.value,\n      name = _useReduxForm.name,\n      placeholder = _useReduxForm.placeholder,\n      icon = _useReduxForm.icon,\n      bottomHelpText = _useReduxForm.bottomHelpText,\n      required = _useReduxForm.required,\n      error = _useReduxForm.error,\n      disabled = _useReduxForm.disabled,\n      readOnly = _useReduxForm.readOnly,\n      tabIndex = _useReduxForm.tabIndex,\n      onChange = _useReduxForm.onChange,\n      onClick = _useReduxForm.onClick,\n      onFocus = _useReduxForm.onFocus,\n      onBlur = _useReduxForm.onBlur,\n      className = _useReduxForm.className,\n      style = _useReduxForm.style,\n      id = _useReduxForm.id,\n      label = _useReduxForm.label,\n      labelAlignment = _useReduxForm.labelAlignment,\n      hideLabel = _useReduxForm.hideLabel,\n      countriesProps = _useReduxForm.countries;\n\n  var containerRef = (0, _react.useRef)();\n  var triggerRef = (0, _react.useRef)();\n  var searchRef = (0, _react.useRef)();\n  var inputRef = (0, _react.useRef)();\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      click: function click() {\n        inputRef.current.click();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  });\n  var inputId = (0, _hooks2.useUniqueIdentifier)('phone-input');\n  var errorMessageId = (0, _hooks2.useErrorMessageId)(error);\n  var labelId = (0, _hooks2.useLabelId)(label);\n  var phone = value && value.phone || '';\n  var countries = (0, _hooks3.useCountries)(countriesProps);\n  var country = (0, _hooks3.useCountry)(value, countries);\n  var countryCode = country.countryCode,\n      isoCode = country.isoCode,\n      flagIcon = country.flagIcon;\n\n  var _useFocusIndex = (0, _hooks3.useFocusIndex)(containerRef, triggerRef, searchRef, inputRef),\n      _useFocusIndex2 = (0, _slicedToArray2[\"default\"])(_useFocusIndex, 2),\n      focusIndex = _useFocusIndex2[0],\n      setFocusIndex = _useFocusIndex2[1];\n\n  (0, _hooks.useOutsideClick)(containerRef, function () {\n    setFocusIndex(-1);\n  }, focusIndex > -1);\n  var handleFocus = (0, _hooks3.useHandleFocus)(focusIndex, onFocus, setFocusIndex, value);\n  var handleBlur = (0, _hooks3.useHandleBlur)(focusIndex, onBlur, value);\n  var isOpen = focusIndex === 1;\n  var handleCountryChange = (0, _hooks3.useHandleCountryChange)(phone, onChange, setFocusIndex, isOpen);\n\n  function handlePhoneChange(event) {\n    var rawPhone = event.target.value;\n    var newPhone = rawPhone.replace(/\\D/g, '');\n    onChange({\n      countryCode: countryCode,\n      isoCode: isoCode,\n      phone: newPhone\n    });\n  }\n\n  function handleClick() {\n    if (focusIndex === 1) {\n      setFocusIndex(0);\n    } else {\n      setFocusIndex(1);\n    }\n  }\n\n  var isFocus = focusIndex > -1;\n  var formattedCountryCode = \"(\".concat(countryCode, \")\");\n  var isReadOnly = readOnly && !disabled;\n  var hasTrigger = !isReadOnly && countries.length > 1;\n  var isOnlyCountry = !isReadOnly && countries.length === 1;\n  return /*#__PURE__*/_react[\"default\"].createElement(_container[\"default\"], {\n    id: id,\n    ref: containerRef,\n    className: className,\n    style: style\n  }, /*#__PURE__*/_react[\"default\"].createElement(_label[\"default\"], {\n    label: label,\n    labelAlignment: labelAlignment,\n    hideLabel: hideLabel,\n    required: required,\n    inputId: inputId,\n    readOnly: readOnly,\n    id: labelId\n  }), /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledInputContainer, {\n    disabled: disabled,\n    readOnly: readOnly,\n    iconPosition: \"right\",\n    icon: icon,\n    error: error,\n    isFocus: isFocus\n  }, /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isReadOnly\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    readOnly: true\n  }, flagIcon)), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: hasTrigger\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledTrigger, {\n    ref: triggerRef,\n    onClick: handleClick,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 0);\n    },\n    onBlur: handleBlur,\n    tabIndex: tabIndex,\n    disabled: disabled,\n    type: \"button\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    disabled: disabled\n  }, flagIcon, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledIndicator, {\n    error: error,\n    disabled: disabled\n  })), /*#__PURE__*/_react[\"default\"].createElement(_AssistiveText[\"default\"], {\n    text: \"select country\"\n  }))), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: isOnlyCountry\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledTrigger, {\n    ref: triggerRef,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 0);\n    },\n    onBlur: handleBlur,\n    tabIndex: tabIndex,\n    disabled: disabled\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledFlagContainer, {\n    disabled: disabled\n  }, flagIcon))), /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledCountryCode, null, formattedCountryCode), /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledInput, {\n    id: inputId,\n    ref: inputRef,\n    name: name,\n    value: phone,\n    type: \"tel\",\n    placeholder: placeholder,\n    tabIndex: tabIndex,\n    onFocus: function onFocus(event) {\n      return handleFocus(event, 2);\n    },\n    onBlur: handleBlur,\n    onClick: onClick,\n    onChange: handlePhoneChange,\n    disabled: disabled,\n    readOnly: readOnly,\n    required: required,\n    \"aria-labelledby\": labelId,\n    \"aria-describedby\": errorMessageId,\n    iconPosition: \"right\",\n    icon: icon,\n    error: error,\n    isFocus: isFocus\n  }), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: icon\n  }, /*#__PURE__*/_react[\"default\"].createElement(_styled.StyledIconContainer, {\n    error: error\n  }, icon)), /*#__PURE__*/_react[\"default\"].createElement(_countriesDropdown[\"default\"], {\n    country: country,\n    countries: countries,\n    isOpen: isOpen,\n    searchRef: searchRef,\n    setFocusIndex: setFocusIndex,\n    handleFocus: handleFocus,\n    handleBlur: handleBlur,\n    onCountryChange: handleCountryChange\n  })), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: bottomHelpText\n  }, /*#__PURE__*/_react[\"default\"].createElement(_helpText[\"default\"], {\n    alignSelf: \"center\"\n  }, bottomHelpText)), /*#__PURE__*/_react[\"default\"].createElement(_RenderIf[\"default\"], {\n    isTrue: error\n  }, /*#__PURE__*/_react[\"default\"].createElement(_errorText[\"default\"], {\n    alignSelf: \"center\",\n    id: errorMessageId\n  }, error)));\n});\n\nPhoneInput.propTypes = {\n  /** Specifies the value of an input element. */\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].shape({\n    countryCode: _propTypes[\"default\"].string,\n    isoCode: _propTypes[\"default\"].string,\n    phone: _propTypes[\"default\"].string\n  })]),\n\n  /** The name of the input. */\n  name: _propTypes[\"default\"].string,\n\n  /** Text label for the input. */\n  label: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Describes the position of the PhoneInput label. Options include left, center and right.\n   * This value defaults to center. */\n  labelAlignment: _propTypes[\"default\"].oneOf(['left', 'center', 'right']),\n\n  /** A boolean to hide the PhoneInput label. */\n  hideLabel: _propTypes[\"default\"].bool,\n\n  /** Text that is displayed when the field is empty, to prompt the user for a valid entry. */\n  placeholder: _propTypes[\"default\"].string,\n\n  /** The icon to show if it is passed. It must be a svg icon or a font icon. */\n  icon: _propTypes[\"default\"].node,\n\n  /** Shows the help message below the input. */\n  bottomHelpText: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input field must be filled out before submitting the form.\n   * This value defaults to false. */\n  required: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field must be filled out before submitting the form. */\n  error: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].node]),\n\n  /** Specifies that an input element should be disabled. This value defaults to false. */\n  disabled: _propTypes[\"default\"].bool,\n\n  /** Specifies that an input field is read-only. This value defaults to false. */\n  readOnly: _propTypes[\"default\"].bool,\n\n  /** Specifies the tab order of an element (when the tab button is used for navigating). */\n  tabIndex: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n\n  /** The action triggered when a value attribute changes. */\n  onChange: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element is clicked. */\n  onClick: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element receives focus. */\n  onFocus: _propTypes[\"default\"].func,\n\n  /** The action triggered when the element releases focus. */\n  onBlur: _propTypes[\"default\"].func,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string,\n\n  /** Specifies the available countries for selection. */\n  countries: _propTypes[\"default\"].array\n};\nPhoneInput.defaultProps = {\n  id: undefined,\n  name: undefined,\n  placeholder: null,\n  icon: undefined,\n  label: undefined,\n  labelAlignment: 'center',\n  hideLabel: false,\n  bottomHelpText: null,\n  required: false,\n  error: null,\n  disabled: false,\n  readOnly: false,\n  tabIndex: undefined,\n  className: undefined,\n  style: undefined,\n  onClick: function onClick() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  value: {\n    countryCode: '+1',\n    isoCode: 'us',\n    phone: ''\n  },\n  countries: ['af', 'ax', 'al', 'dz', 'as', 'ad', 'ao', 'ai', 'ag', 'ar', 'am', 'aw', 'ac', 'au', 'at', 'az', 'bs', 'bh', 'bd', 'bb', 'by', 'be', 'bz', 'bj', 'bm', 'bt', 'bo', 'bq', 'ba', 'bw', 'br', 'vg', 'bn', 'bg', 'bf', 'bi', 'kh', 'cm', 'ca', 'cv', 'ky', 'cf', 'td', 'cl', 'cn', 'cx', 'cc', 'co', 'km', 'cg', 'cd', 'ck', 'cr', 'ci', 'hr', 'cu', 'cw', 'cy', 'cz', 'dk', 'dj', 'dm', 'do', 'ec', 'eg', 'sv', 'gq', 'er', 'ee', 'et', 'fk', 'fo', 'fj', 'fi', 'fr', 'gf', 'pf', 'ga', 'gm', 'ge', 'de', 'gh', 'gi', 'gr', 'gl', 'gd', 'gp', 'gu', 'gt', 'gg', 'gn', 'gw', 'gy', 'ht', 'hn', 'hk', 'hu', 'is', 'in', 'id', 'ir', 'iq', 'ie', 'im', 'il', 'it', 'jm', 'jp', 'je', 'jo', 'kz', 'ke', 'ki', 'kv', 'kw', 'kg', 'la', 'lv', 'lb', 'ls', 'lr', 'ly', 'li', 'lt', 'lu', 'mo', 'mk', 'mg', 'mw', 'my', 'mv', 'ml', 'mt', 'mh', 'mq', 'mr', 'mu', 'yt', 'mx', 'fm', 'md', 'mc', 'mn', 'me', 'ms', 'ma', 'mz', 'mm', 'na', 'nr', 'np', 'nl', 'nc', 'nz', 'ni', 'ne', 'ng', 'nu', 'nf', 'kp', 'mp', 'no', 'om', 'pk', 'pw', 'ps', 'pa', 'pg', 'py', 'pe', 'ph', 'pl', 'pt', 'pr', 'qa', 're', 'ro', 'ru', 'rw', 'bl', 'sh', 'kn', 'lc', 'mf', 'pm', 'vc', 'ws', 'sm', 'st', 'sa', 'sn', 'rs', 'sc', 'sl', 'sg', 'sx', 'sk', 'si', 'sb', 'so', 'za', 'kr', 'ss', 'es', 'lk', 'sd', 'sr', 'sj', 'sz', 'se', 'ch', 'sy', 'tw', 'tj', 'tz', 'th', 'tl', 'tg', 'tk', 'to', 'tt', 'tn', 'tr', 'tm', 'tc', 'tv', 'vi', 'ug', 'ua', 'ae', 'gb', 'us', 'uy', 'uz', 'vu', 'va', 've', 'vn', 'wf', 'ye', 'zm', 'zw']\n};\nvar _default = PhoneInput;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}